(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[7],{1095:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return or}));var r,a=n(6),c=n(11),i=n(8),s=n(0),o=n.n(s),l=n(70),d=n(18),b=n.n(d),j=n(52),u=n(2),p=n(9),x=n(4),O=n(413),h=n(181),f=n(177),m=n(412),g=n(13),v=n(43),y=n(374),w=n(115),k=n(364),S=n(335),C=n(47),D=n(39),T=n(419),F=n(420),A=n(414),L=n(415),R=n(36),q=n(1),z=x.e.div(r||(r=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),P=function(e){var t=e.onClick,n=e.expanded,r=Object(g.b)().t;return Object(q.jsxs)(z,{"aria-label":r("Hide or show expandable content"),role:"button",onClick:function(){return t()},children:[Object(q.jsx)(u.rb,{color:"primary",bold:!0,children:r(n?"Hide":"Details")}),n?Object(q.jsx)(u.z,{}):Object(q.jsx)(u.x,{})]})};P.defaultProps={expanded:!1};var N,E,B,U,M,Q,I,J,V,W,X,G,H,_,$,K,Y,Z,ee,te,ne,re,ae,ce,ie,se,oe,le,de,be,je,ue,pe,xe,Oe,he,fe,me,ge,ve,ye,we,ke,Se,Ce,De,Te,Fe,Ae,Le,Re,qe,ze,Pe,Ne,Ee,Be,Ue,Me,Qe,Ie,Je,Ve,We,Xe,Ge=P,He=n(35),_e=n(30),$e=n(41),Ke=function(e){var t=e.quoteTokenAddress,n=e.tokenAddress,r=$e.a.wbnb.address,a=n&&n!==r?n:"ETH";return"".concat(t&&t!==r?t:"ETH","/").concat(a)},Ye=x.e.div(N||(N=Object(i.a)(["\n  margin-top: 24px;\n"]))),Ze=Object(x.e)(u.T)(E||(E=Object(i.a)(["\n  font-weight: 400;\n"]))),et=function(e){var t=e.bscScanAddress,n=(e.infoAddress,e.removed),r=(e.totalValueFormatted,e.lpLabel),a=e.addLiquidityUrl,c=Object(g.b)().t;return Object(q.jsxs)(Ye,{children:[!n&&Object(q.jsx)(Ze,{href:a,children:c("Get %symbol%",{symbol:r})}),Object(q.jsx)(Ze,{href:t,children:c("View Contract")})]})},tt=n(210),nt=n(244),rt=Object(x.e)(u.J)(B||(B=Object(i.a)(["\n  svg {\n    margin-right: 4px;\n  }\n"]))),at=Object(x.e)(u.qb)(U||(U=Object(i.a)(["\n  margin-left: 4px;\n  color: black;\n"]))),ct=function(e){var t=e.lpLabel,n=e.multiplier,r=e.isCommunityFarm,a=e.token,c=e.quoteToken,i=e.hasFees;return Object(q.jsxs)(rt,{justifyContent:"space-between",alignItems:"center",mb:"12px",children:[Object(q.jsx)(nt.a,{variant:"inverted",primaryToken:a,secondaryToken:c,width:64,height:64}),Object(q.jsxs)(u.J,{flexDirection:"column",alignItems:"flex-end",children:[Object(q.jsx)(u.L,{mb:"4px",children:t.split(" ")[0]}),Object(q.jsxs)(u.J,{justifyContent:"center",children:[r?Object(q.jsx)(tt.a,{fontSize:12,iconSize:12}):Object(q.jsx)(tt.c,{fontSize:12,iconSize:12}),i?Object(q.jsx)(tt.e,{fontSize:12,iconSize:12,marginLeft:"4px"}):null,Object(q.jsx)(at,{fontSize:12,variant:"secondary",children:n})]})]})]})},it=n(3),st=n.n(it),ot=n(12),lt=n(65),dt=n(111),bt=n(49),jt=n(110),ut=n(73),pt=x.e.div(M||(M=Object(i.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),xt=function(e){var t,n=e.size,r=void 0===n?"md":n,a=Object(s.useContext)(x.a).spacing;switch(r){case"lg":t=a[6];break;case"sm":t=a[2];break;case"md":default:t=a[4]}return Object(q.jsx)(pt,{size:t})},Ot=x.e.div(Q||(Q=Object(i.a)(["\n  align-items: center;\n  background-color: ","00;\n  display: flex;\n  margin: 0;\n  padding: ","px 0;\n"])),(function(e){return e.theme.colors.primaryDark}),(function(e){return e.theme.spacing[4]})),ht=x.e.div(I||(I=Object(i.a)(["\n  flex: 1;\n"]))),ft=function(e){var t=e.children,n=o.a.Children.toArray(t).length;return Object(q.jsx)(Ot,{children:o.a.Children.map(t,(function(e,t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(ht,{children:e}),t<n-1&&Object(q.jsx)(xt,{})]})}))})},mt=n(67),gt=x.e.div(J||(J=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  border-radius: 16px;\n  box-shadow: ",";\n  color: ",";\n  padding: 8px 16px 8px 0;\n  width: 100%;\n"])),(function(e){return e.theme.colors.input}),(function(e){var t=e.isWarning,n=void 0!==t&&t,r=e.theme;return n?r.shadows.warning:r.shadows.inset}),(function(e){return e.theme.colors.text})),vt=Object(x.e)(u.R)(V||(V=Object(i.a)(["\n  box-shadow: none;\n  width: 60px;\n  margin: 0 8px;\n  padding: 0 8px;\n  border: none;\n\n  "," {\n    width: 80px;\n  }\n\n  "," {\n    width: auto;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),yt=Object(x.e)(u.rb)(W||(W=Object(i.a)(["\n  position: absolute;\n  bottom: -22px;\n  a {\n    display: inline;\n  }\n"]))),wt=function(e){var t=e.max,n=e.symbol,r=e.onChange,a=e.onSelectMax,c=e.value,i=e.addLiquidityUrl,s=e.inputTitle,o=e.decimals,l=void 0===o?18:o,d=Object(g.b)().t,b="0"===t||!t;return Object(q.jsxs)("div",{style:{position:"relative"},children:[Object(q.jsxs)(gt,{isWarning:b,children:[Object(q.jsxs)(u.J,{justifyContent:"space-between",pl:"16px",children:[Object(q.jsx)(u.rb,{fontSize:"14px",children:s}),Object(q.jsx)(u.rb,{fontSize:"14px",children:d("Balance: %balance%",{balance:function(e){if(b)return"0";var t=Object(mt.parseUnits)(e,l);return Object(v.a)(t,l,l)}(t)})})]}),Object(q.jsxs)(u.J,{alignItems:"flex-end",justifyContent:"space-around",children:[Object(q.jsx)(vt,{pattern:"^[0-9]*[.,]?[0-9]{0,".concat(l,"}$"),inputMode:"decimal",step:"any",min:"0",onChange:r,placeholder:"0",value:c}),Object(q.jsx)(u.l,{scale:"sm",onClick:a,mr:"8px",children:d("Max")}),Object(q.jsx)(u.rb,{fontSize:"16px",children:n})]})]}),Object(q.jsx)("br",{}),b&&Object(q.jsxs)(yt,{fontSize:"14px",color:"failure",children:[d("No tokens to stake"),":"," ",Object(q.jsx)(u.S,{fontSize:"14px",bold:!1,href:i,external:!0,color:"failure",children:d("Get %symbol%",{symbol:n})}),Object(q.jsx)("br",{})]})]})},kt=n(106),St=function(e){var t=e.pid,n=e.max,r=(e.stakedBalance,e.onApprove),a=e.onConfirm,i=e.onDismiss,o=e.tokenName,l=void 0===o?"":o,d=(e.multiplier,e.displayApr,e.lpPrice,e.lpLabel,e.apr,e.addLiquidityUrl),j=(e.cakePrice,e.depositFee),p=e.withdrawalFee,x=Object(s.useState)(""),O=Object(c.a)(x,2),h=O[0],m=O[1],y=Object(kt.a)(),w=y.toastSuccess,k=y.toastError,S=Object(s.useState)(!1),C=Object(c.a)(S,2),D=C[0],T=C[1],F=Object(s.useState)(new b.a(0)),A=Object(c.a)(F,2),L=A[0],R=A[1],z=Object(f.a)(t).allowance,P=Object(g.b)().t,N=Object(s.useMemo)((function(){return Object(v.g)(n)}),[n]),E=new b.a(h),B=new b.a(N);Object(s.useEffect)((function(){R(h?new b.a(h).times(He.h):new b.a(0))}),[h]);var U=Object(s.useCallback)((function(e){e.currentTarget.validity.valid&&m(e.currentTarget.value.replace(/,/g,"."))}),[m]),M=Object(s.useCallback)((function(){m(N)}),[N,m]);return Object(q.jsxs)(u.bb,{title:P("Stake LP tokens"),onDismiss:i,children:[Object(q.jsx)(wt,{value:h,onSelectMax:M,onChange:U,max:N,symbol:l,addLiquidityUrl:d,inputTitle:P("Stake")}),Object(q.jsxs)(ft,{children:[Object(q.jsx)(u.l,{variant:"secondary",onClick:i,width:"100%",disabled:D,children:P("Cancel")}),Object(q.jsx)(u.l,{width:"100%",disabled:D||!E.isFinite()||E.eq(0)||E.gt(B),onClick:Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),e.prev=1,L.eq(new b.a(0))||!L.gt(z)){e.next=7;break}return e.next=5,r();case 5:e.next=11;break;case 7:return e.next=9,a(h);case 9:w(P("Staked!"),P("Your funds have been staked in the farm")),i();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),k(P("Error"),P("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 17:return e.prev=17,T(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])}))),children:D?P("Confirming"):!L.eq(new b.a(0))&&L.gt(z)?P("Enable"):P("Confirm")})]}),j?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:p?"0":"20px"},children:[Object(q.jsx)(u.Q,{fontSize:12,color:"failure",width:"16px",mr:"4px"}),Object(q.jsx)(u.rb,{textAlign:"center",fontSize:"14px",color:"failure",children:P("Deposit Fee: %fee%%",{fee:100*j})})]}):null,p?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[Object(q.jsx)(u.Q,{fontSize:12,color:"failure",width:"16px",mr:"4px"}),Object(q.jsx)(u.rb,{textAlign:"center",fontSize:"14px",color:"failure",children:P("Withdrawal Fee: %fee%%",{fee:100*p})})]}):null,Object(q.jsx)(u.T,{href:d,style:{alignSelf:"center"},children:P("Get %symbol%",{symbol:l})})]})},Ct=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.max,a=e.tokenName,i=void 0===a?"":a,o=e.depositFee,l=e.withdrawalFee,d=Object(s.useState)(""),j=Object(c.a)(d,2),p=j[0],x=j[1],O=Object(kt.a)(),h=O.toastSuccess,f=O.toastError,m=Object(s.useState)(!1),y=Object(c.a)(m,2),w=y[0],k=y[1],S=Object(g.b)().t,C=Object(s.useMemo)((function(){return Object(v.g)(r)}),[r]),D=new b.a(p),T=new b.a(C),F=Object(s.useCallback)((function(e){e.currentTarget.validity.valid&&x(e.currentTarget.value.replace(/,/g,"."))}),[x]),A=Object(s.useCallback)((function(){x(C)}),[C,x]);return Object(q.jsxs)(u.bb,{title:S("Unstake LP tokens"),onDismiss:n,children:[Object(q.jsx)(wt,{onSelectMax:A,onChange:F,value:p,max:C,symbol:i,inputTitle:S("Unstake")}),Object(q.jsxs)(ft,{children:[Object(q.jsx)(u.l,{variant:"secondary",onClick:n,width:"100%",disabled:w,children:S("Cancel")}),Object(q.jsx)(u.l,{disabled:w||!D.isFinite()||D.eq(0)||D.gt(T),onClick:Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,t(p);case 4:h(S("Unstaked!"),S("Your earnings have also been harvested to your wallet")),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),f(S("Error"),S("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),width:"100%",children:S(w?"Confirming":"Confirm")})]}),o?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(q.jsx)(u.Q,{fontSize:12,color:"failure",width:"16px",mr:"4px"}),Object(q.jsx)(u.rb,{textAlign:"center",fontSize:"14px",color:"failure",children:S("Deposit Fee: %fee%%",{fee:100*o})})]}):null,l?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(q.jsx)(u.Q,{fontSize:12,color:"failure",width:"16px",mr:"4px"}),Object(q.jsx)(u.rb,{textAlign:"center",fontSize:"14px",color:"failure",children:S("Withdrawal Fee: %fee%%",{fee:100*l})})]}):null]})},Dt=(n(33),n(63)),Tt=n(143),Ft={gasLimit:He.g},At=function(){var e=Object(ot.a)(st.a.mark((function e(t,n,r){var c,i,s,o;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(Tt.a)(),i=new b.a(r).times(He.h).toString(),e.next=4,t.deposit(n,i,Object(a.a)(Object(a.a)({},Ft),{},{gasPrice:c}));case 4:return s=e.sent,e.next=7,s.wait();case 7:return o=e.sent,e.abrupt("return",o.status);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(ot.a)(st.a.mark((function e(t,n,r){var c,i,s,o;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(Tt.a)(),i=new b.a(r).times(He.h).toString(),e.next=4,t.withdraw(n,i,Object(a.a)(Object(a.a)({},Ft),{},{gasPrice:c}));case 4:return s=e.sent,e.next=7,s.wait();case 7:return o=e.sent,e.abrupt("return",o.status);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var r,c,i;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Tt.a)(),e.next=3,t.deposit(n,"0",Object(a.a)(Object(a.a)({},Ft),{},{gasPrice:r}));case 3:return c=e.sent,e.next=6,c.wait();case 6:return i=e.sent,e.abrupt("return",i.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qt=(n(90),n(365),n(61),n(95),n(112)),zt=function(e,t){var n=Object(bt.f)(qt.a.find((function(n){return Object(_e.a)(n.lpAddresses)===t.address&&n.pid===e})));return{onUnstake:Object(s.useCallback)(function(){var t=Object(ot.a)(st.a.mark((function t(r){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt(n,e,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e])}},Pt=function(e,t){var n=Object(bt.f)(qt.a.find((function(n){return Object(_e.a)(n.lpAddresses)===t.address&&n.pid===e})));return{onStake:Object(s.useCallback)(function(){var t=Object(ot.a)(st.a.mark((function t(r){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(n,e,r);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e])}},Nt=x.e.div(X||(X=Object(i.a)(["\n  display: flex;\n  svg {\n    width: 20px;\n  }\n"]))),Et=function(e){var t=e.stakedBalance,n=e.tokenBalance,r=e.onApprove,a=e.tokenName,i=e.pid,o=e.multiplier,d=e.apr,p=e.displayApr,x=e.addLiquidityUrl,O=e.cakePrice,h=e.lpLabel,m=e.lpContract,y=e.depositFee,w=e.withdrawalFee,k=Object(g.b)().t,S=Pt(i,m).onStake,C=zt(i,m).onUnstake,D=Object(l.g)(),T=Object(lt.b)(),F=Object(j.c)().account,A=Object(f.c)(a),L=function(){var e=Object(ot.a)(st.a.mark((function e(t){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:T(Object(dt.b)({account:F,pids:[i]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(ot.a)(st.a.mark((function e(t){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:T(Object(dt.b)({account:F,pids:[i]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=Object(s.useCallback)((function(){var e=Object(v.d)(t);return e.gt(0)&&e.lt(1e-7)?"<0.0000001":e.gt(0)?e.toFixed(8,b.a.ROUND_DOWN):e.toFixed(3,b.a.ROUND_DOWN)}),[t]),P=Object(u.Jb)(Object(q.jsx)(St,{pid:i,max:n,stakedBalance:t,onApprove:r,onConfirm:L,tokenName:a,multiplier:o,lpPrice:A,lpLabel:h,apr:d,displayApr:p,addLiquidityUrl:x,cakePrice:O,depositFee:y,withdrawalFee:w})),N=Object(c.a)(P,1)[0],E=Object(u.Jb)(Object(q.jsx)(Ct,{max:t,onConfirm:R,tokenName:a,depositFee:y,withdrawalFee:w})),B=Object(c.a)(E,1)[0];return Object(q.jsxs)(u.J,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsxs)(u.J,{flexDirection:"column",alignItems:"flex-start",children:[Object(q.jsx)(u.L,{color:t.eq(0)?"textDisabled":"text",children:z()}),t.gt(0)&&A.gt(0)&&Object(q.jsx)(ut.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:Object(v.e)(A.times(t)),unit:" USD",prefix:"~"})]}),t.eq(0)?Object(q.jsx)(u.l,{onClick:N,disabled:["history","archived"].some((function(e){return D.pathname.includes(e)})),children:k("Stake LP")}):Object(q.jsxs)(Nt,{children:[Object(q.jsx)(u.O,{variant:"tertiary",onClick:B,mr:"6px",children:Object(q.jsx)(u.ab,{color:"primary",width:"14px"})}),Object(q.jsx)(u.O,{variant:"tertiary",onClick:N,disabled:["history","archived"].some((function(e){return D.pathname.includes(e)})),children:Object(q.jsx)(u.a,{color:"primary",width:"14px"})})]})]})},Bt=n(29),Ut=function(e,t){var n=Object(bt.f)(qt.a.find((function(n){return Object(_e.a)(n.lpAddresses)===t.address&&n.pid===e})));return{onReward:Object(s.useCallback)(Object(ot.a)(st.a.mark((function t(){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rt(n,e);case 2:case"end":return t.stop()}}),t)}))),[e,n])}},Mt=function(e){var t=e.earnings,n=e.pid,r=e.lpContract,a=Object(j.c)().account,i=Object(kt.a)(),o=i.toastSuccess,l=i.toastError,d=Object(g.b)().t,p=Object(s.useState)(!1),x=Object(c.a)(p,2),O=x[0],h=x[1],m=Ut(n,r).onReward,y=Object(f.g)(),w=Object(lt.b)(),k=a?Object(v.d)(t,6):Bt.c,S=k.toFixed(3,b.a.ROUND_DOWN),C=k?k.multipliedBy(y).toNumber():0;return Object(q.jsxs)(u.J,{mb:"8px",justifyContent:"space-between",alignItems:"center",children:[Object(q.jsxs)(u.J,{flexDirection:"column",alignItems:"flex-start",children:[Object(q.jsx)(u.L,{color:k.eq(0)?"textDisabled":"text",children:S}),k.gt(0)&&y.gt(0)&&Object(q.jsx)(ut.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:C,unit:" USD",prefix:"~"})]}),Object(q.jsx)(u.l,{disabled:k.eq(0)||O,onClick:Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,m();case 4:o("".concat(d("Harvested"),"!"),d("Your %symbol% earnings have been sent to your wallet!",{symbol:"SPG"})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(d("Error"),d("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:w(Object(dt.b)({account:a,pids:[n]}));case 15:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:d("Harvest")})]})},Qt=n(170),It=function(e){var t=Object(bt.f)(qt.a.find((function(t){return Object(_e.a)(t.lpAddresses)===e.address}))),n=Object(Qt.a)().callWithGasPrice;return{onApprove:Object(s.useCallback)(Object(ot.a)(st.a.mark((function r(){var a,c;return st.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n(e,"approve",[t.address,Dt.a.constants.MaxUint256]);case 3:return a=r.sent,r.next=6,a.wait();case 6:return c=r.sent,r.abrupt("return",c.status);case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",!1);case 13:case"end":return r.stop()}}),r,null,[[0,10]])}))),[e,t,n])}},Jt=x.e.div(G||(G=Object(i.a)(["\n  padding-top: 16px;\n"]))),Vt=function(e){var t=e.farm,n=e.account,r=e.addLiquidityUrl,a=e.cakePrice,i=e.lpLabel,o=Object(g.b)().t,l=Object(s.useState)(!1),d=Object(c.a)(l,2),b=d[0],j=d[1],p=t.pid,x=t.lpAddresses,O=t.userData||{},h=O.allowance,f=O.tokenBalance,m=O.stakedBalance,v=O.earnings,y=Object(_e.a)(x),w=n&&h&&h.isGreaterThan(0),k=Object(lt.b)(),S=Object(bt.e)(y),C=It(S).onApprove,D=Object(s.useCallback)(Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,C();case 4:k(Object(dt.b)({account:n,pids:[p]})),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[C,k,n,p]);return Object(q.jsxs)(Jt,{children:[Object(q.jsxs)(u.J,{children:[Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:"SPG"}),Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:o("Earned")})]}),Object(q.jsx)(Mt,{earnings:v,pid:p,lpContract:S}),Object(q.jsxs)(u.J,{children:[Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:t.lpSymbol}),Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:o("Staked")})]}),n?w?Object(q.jsx)(Et,{stakedBalance:m,tokenBalance:f,onApprove:D,tokenName:t.lpSymbol,pid:p,apr:t.apr,lpLabel:i,cakePrice:a,addLiquidityUrl:r,lpContract:S,depositFee:t.depositFee,withdrawalFee:t.withdrawalFee}):Object(q.jsx)(u.l,{mt:"8px",width:"100%",disabled:b,onClick:D,children:o("Enable Contract")}):Object(q.jsx)(jt.a,{mt:"8px",width:"100%"})]})},Wt=Object(x.e)(u.o)(H||(H=Object(i.a)(["\n  align-self: baseline;\n"]))),Xt=Object(x.e)(u.J)(_||(_=Object(i.a)(["\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px;\n"]))),Gt=x.e.div($||($=Object(i.a)(["\n  padding: 24px;\n  border-top: 2px solid ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.colors.cardBorder})),Ht=Object(x.e)(u.J)(K||(K=Object(i.a)(["\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),_t=function(e){var t=e.farm,n=e.displayApr,r=e.removed,a=e.cakePrice,i=e.account,o=e.userDataReady,l=Object(g.b)().t,d=Object(s.useState)(!1),b=Object(c.a)(d,2),j=b[0],p=b[1],x=t.liquidity&&t.liquidity.gt(0)?"$".concat(t.liquidity.toNumber().toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):"$0.00",O=t.lpSymbol&&t.lpSymbol.toUpperCase().replace("PANCAKE",""),h=t.dual?t.dual.earnLabel:l("SPG"),f=Ke({quoteTokenAddress:t.quoteToken.address,tokenAddress:t.token.address}),m="".concat(He.a,"/").concat(f),v=Object(_e.a)(t.lpAddresses),y="SPG"===t.token.symbol;return Object(q.jsxs)(Wt,{isActive:y,children:[Object(q.jsxs)(Xt,{children:[Object(q.jsx)(ct,{lpLabel:O,multiplier:t.multiplier,isCommunityFarm:t.isCommunity,token:t.token,quoteToken:t.quoteToken,hasFees:t.depositFee>0||t.withdrawalFee>0}),!r&&Object(q.jsxs)(u.J,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsxs)(u.rb,{children:[l("APR"),":"]}),Object(q.jsx)(u.rb,{bold:!0,style:{display:"flex",alignItems:"center"},children:i&&o||!i&&null!==n?Object(q.jsx)(Ht,{alignItems:"center",children:n}):Object(q.jsx)(u.nb,{width:60})})]}),Object(q.jsxs)(u.J,{justifyContent:"space-between",children:[Object(q.jsxs)(u.rb,{children:[l("TVL"),":"]}),i&&o||!i&&""!==x?Object(q.jsx)(u.rb,{bold:!0,children:x}):Object(q.jsx)(u.rb,{bold:!0,children:Object(q.jsx)(u.nb,{width:60})})]}),Object(q.jsxs)(u.J,{justifyContent:"space-between",children:[Object(q.jsxs)(u.rb,{children:[l("Earn"),":"]}),Object(q.jsx)(u.rb,{bold:!0,children:h})]}),Object(q.jsx)(Vt,{farm:t,lpLabel:O,account:i,cakePrice:a,addLiquidityUrl:m})]}),Object(q.jsxs)(Gt,{children:[Object(q.jsx)(Ge,{onClick:function(){return p(!j)},expanded:j}),j&&Object(q.jsx)(et,{removed:r,bscScanAddress:Object(R.e)(v,"address"),infoAddress:"/info/pool/".concat(v),totalValueFormatted:x,lpLabel:O,addLiquidityUrl:m})]})]})},$t=n(416),Kt=x.e.div(Y||(Y=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n\n  button {\n    width: 20px;\n    height: 20px;\n\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.textSubtle})),Yt=x.e.div(Z||(Z=Object(i.a)(["\n  min-width: 60px;\n  text-align: left;\n"]))),Zt=(Object(x.e)(u.J)(ee||(ee=Object(i.a)(["\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),function(e){var t=e.value,n=(e.pid,e.lpLabel,e.lpSymbol,e.multiplier,e.tokenAddress),r=e.quoteTokenAddress,a=(e.cakePrice,e.originalValue,e.hideButton,e.userDataReady),c=void 0!==a&&a,i=e.account,s=Ke({quoteTokenAddress:r,tokenAddress:n});"".concat(He.a,"/").concat(s);return!c||!i&&null===t?Object(q.jsx)(Kt,{children:Object(q.jsx)(Yt,{children:Object(q.jsx)(u.nb,{width:60})})}):Object(q.jsx)(Kt,{children:Object(q.jsx)(Yt,{children:t})})}),en=x.e.div(te||(te=Object(i.a)(["\n  padding-left: 16px;\n  display: flex;\n  align-items: center;\n\n  "," {\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),tn=x.e.div(ne||(ne=Object(i.a)(["\n  padding-right: 8px;\n  width: 24px;\n\n  "," {\n    width: 40px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),nn=function(e){var t=e.token,n=e.quoteToken,r=e.label,a=e.pid,c=Object(f.a)(a).stakedBalance,i=Object(g.b)().t,s=Object(v.e)(c);return Object(q.jsxs)(en,{children:[Object(q.jsx)(tn,{children:Object(q.jsx)(nt.a,{variant:"inverted",primaryToken:t,secondaryToken:n,width:40,height:40})}),Object(q.jsxs)("div",{children:[s?Object(q.jsx)(u.rb,{color:"secondary",fontSize:"12px",bold:!0,textTransform:"uppercase",children:i("Farming")}):null,Object(q.jsx)(u.rb,{bold:!0,children:r})]})]})},rn=x.e.span(re||(re=Object(i.a)(["\n  color: ",";\n  display: flex;\n  align-items: center;\n"])),(function(e){var t=e.earned,n=e.theme;return t?n.colors.primary:n.colors.textDisabled})),an=function(e){var t=e.earnings;return e.userDataReady?Object(q.jsx)(rn,{earned:t,children:t.toLocaleString()}):Object(q.jsx)(rn,{earned:0,children:Object(q.jsx)(u.nb,{width:60})})},cn=x.e.div(ae||(ae=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  padding-right: 8px;\n  color: ",";\n\n  "," {\n    padding-right: 0px;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.mediaQueries.sm})),sn=Object(x.e)(u.x)(ce||(ce=Object(i.a)(["\n  transform: ",";\n  height: 20px;\n"])),(function(e){return e.toggled?"rotate(180deg)":"rotate(0)"})),on=function(e){var t=e.actionPanelToggled,n=Object(g.b)().t,r=Object(u.Ib)().isDesktop;return Object(q.jsxs)(cn,{children:[!r&&n("Details"),Object(q.jsx)(sn,{color:"primary",toggled:t})]})},ln=x.e.div(ie||(ie=Object(i.a)(["\n  display: inline-block;\n"]))),dn=x.e.div(se||(se=Object(i.a)(["\n  color: ",";\n  width: 68px;\n  text-align: right;\n  margin-right: 14px;\n\n  "," {\n    text-align: left;\n    margin-right: 0;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.mediaQueries.lg})),bn=x.e.div(oe||(oe=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]))),jn=function(e){var t=e.multiplier,n=t?t.toLowerCase():Object(q.jsx)(u.nb,{width:30}),r=Object(g.b)().t,a=Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(u.rb,{children:r("The Reward Share represents the proportion of SPG rewards each farm receives, as a percentage of the SPG produced each block.")}),Object(q.jsx)(u.rb,{my:"24px",children:r("For example, a 50% Reward Share value indicates that the farm receives 50% of the total SPG produced each block.")}),Object(q.jsx)(u.rb,{children:r("This percentage is already included in all APR calculations for the farm.")})]}),c=Object(u.Lb)(a,{placement:"top-end",tooltipOffset:[20,10]}),i=c.targetRef,s=c.tooltip,o=c.tooltipVisible;return Object(q.jsxs)(bn,{children:[Object(q.jsx)(dn,{children:n}),Object(q.jsx)(ln,{ref:i,children:Object(q.jsx)(u.M,{color:"textSubtle"})}),o&&s]})},un=x.e.div(le||(le=Object(i.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    max-height: 100px;\n  }\n\n  "," {\n    margin-left: 48px;\n    margin-right: 0;\n    margin-bottom: 0;\n    max-height: 100px;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),pn=x.e.div(de||(de=Object(i.a)(["\n  display: flex;\n"]))),xn=x.e.div(be||(be=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),On=function(e){var t=e.pid,n=e.userData,r=e.userDataReady,a=e.lpContract,i=Object(kt.a)(),o=i.toastSuccess,l=i.toastError,d=new b.a(n.earnings),p=d.gt(0),x=Object(f.g)(),O=Bt.c,h=0,m=r?O.toLocaleString():Object(q.jsx)(u.nb,{width:60});d.isZero()||(h=(O=Object(v.d)(d,6)).multipliedBy(x).toNumber(),m=O.toFixed(3,b.a.ROUND_DOWN));var y=Object(s.useState)(!1),w=Object(c.a)(y,2),k=w[0],S=w[1],C=Ut(t,a).onReward,D=Object(g.b)().t,T=Object(lt.b)(),F=Object(j.c)().account;return Object(q.jsxs)(un,{children:[Object(q.jsxs)(pn,{children:[Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:"SPG"}),Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:D("Earned")})]}),Object(q.jsxs)(xn,{children:[Object(q.jsx)("div",{style:{paddingTop:"8px"},children:p?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(u.L,{children:m}),O.gt(0)&&x.gt(0)&&Object(q.jsx)(ut.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:h,unit:" USD",prefix:"~"})]}):Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(u.L,{color:"textDisabled",children:"0"})})}),Object(q.jsx)(u.l,{disabled:O.eq(0)||k||!r,onClick:Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,C();case 4:o("".concat(D("Harvested"),"!"),D("Your %symbol% earnings have been sent to your wallet!",{symbol:"SPG"})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(D("Error"),D("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:T(Object(dt.b)({account:F,pids:[t]}));case 15:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),ml:"4px",children:D("Harvest")})]})]})},hn=x.e.div(je||(je=Object(i.a)(["\n  display: flex;\n"]))),fn=function(e){var t=e.pid,n=e.apr,r=e.multiplier,a=e.lpSymbol,i=e.lpLabel,o=e.lpAddresses,b=e.quoteToken,p=e.token,x=e.userDataReady,O=e.displayApr,h=e.depositFee,m=e.withdrawalFee,y=Object(g.b)().t,w=Object(j.c)().account,k=Object(s.useState)(!1),S=Object(c.a)(k,2),C=S[0],D=S[1],T=Object(f.a)(t),F=T.allowance,A=T.tokenBalance,L=T.stakedBalance,R=Object(_e.a)(o),z=Object(bt.e)(R),P=Pt(t,z).onStake,N=zt(t,z).onUnstake,E=Object(l.g)(),B=Object(f.c)(a),U=Object(f.g)(),M=w&&F&&F.isGreaterThan(0),Q=Ke({quoteTokenAddress:b.address,tokenAddress:p.address}),I="".concat(He.a,"/").concat(Q),J=function(){var e=Object(ot.a)(st.a.mark((function e(n){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:X(Object(dt.b)({account:w,pids:[t]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(ot.a)(st.a.mark((function e(n){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n);case 2:X(Object(dt.b)({account:w,pids:[t]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(s.useCallback)((function(){var e=Object(v.d)(L);return e.gt(0)&&e.lt(1e-7)?e.toFixed(10,d.BigNumber.ROUND_DOWN):e.gt(0)&&e.lt(1e-4)?e.toFixed(12,d.BigNumber.ROUND_DOWN):e.toFixed(3,d.BigNumber.ROUND_DOWN)}),[L]),X=Object(lt.b)(),G=It(z).onApprove,H=Object(s.useCallback)(Object(ot.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,G();case 4:X(Object(dt.b)({account:w,pids:[t]})),D(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[G,X,w,t]),_=Object(u.Jb)(Object(q.jsx)(St,{pid:t,max:A,lpPrice:B,lpLabel:i,apr:n,displayApr:O,stakedBalance:L,onApprove:H,onConfirm:J,tokenName:a,multiplier:r,addLiquidityUrl:I,cakePrice:U,depositFee:h,withdrawalFee:m})),$=Object(c.a)(_,1)[0],K=Object(u.Jb)(Object(q.jsx)(Ct,{max:L,onConfirm:V,tokenName:a,depositFee:h,withdrawalFee:m})),Y=Object(c.a)(K,1)[0];return w?M?L.gt(0)?Object(q.jsxs)(un,{children:[Object(q.jsxs)(pn,{children:[Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:a}),Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:y("Staked")})]}),Object(q.jsxs)(xn,{children:[Object(q.jsxs)("div",{style:{paddingTop:"8px"},children:[Object(q.jsx)(u.L,{children:W()}),L.gt(0)&&B.gt(0)&&Object(q.jsx)(ut.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:Object(v.e)(B.times(L)),unit:" USD",prefix:"~"})]}),Object(q.jsxs)(hn,{children:[Object(q.jsx)(u.O,{variant:"secondary",onClick:Y,mr:"6px",children:Object(q.jsx)(u.ab,{color:"primary",width:"14px"})}),Object(q.jsx)(u.O,{variant:"secondary",onClick:$,disabled:["history","archived"].some((function(e){return E.pathname.includes(e)})),children:Object(q.jsx)(u.a,{color:"primary",width:"14px"})})]})]})]}):Object(q.jsxs)(un,{children:[Object(q.jsxs)(pn,{children:[Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",pr:"4px",children:y("Stake").toUpperCase()}),Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",children:a})]}),Object(q.jsx)(xn,{children:Object(q.jsx)(u.l,{width:"100%",onClick:$,variant:"secondary",disabled:["history","archived"].some((function(e){return E.pathname.includes(e)})),children:y("Stake LP")})})]}):x?Object(q.jsxs)(un,{children:[Object(q.jsx)(pn,{children:Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:y("Enable Farm")})}),Object(q.jsx)(xn,{children:Object(q.jsx)(u.l,{width:"100%",disabled:C,onClick:H,variant:"secondary",children:y("Enable")})})]}):Object(q.jsxs)(un,{children:[Object(q.jsx)(pn,{children:Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:y("Start Farming")})}),Object(q.jsx)(xn,{children:Object(q.jsx)(u.nb,{width:180,marginBottom:28,marginTop:14})})]}):Object(q.jsxs)(un,{children:[Object(q.jsx)(pn,{children:Object(q.jsx)(u.rb,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:y("Start Farming")})}),Object(q.jsx)(xn,{children:Object(q.jsx)(jt.a,{width:"100%"})})]})},mn=x.e.span(ue||(ue=Object(i.a)(["\n  color: ",";\n  display: flex;\n  align-items: center;\n"])),(function(e){var t=e.liquidity,n=e.theme;return""!==t?n.colors.text:n.colors.textDisabled})),gn=function(e){var t=e.totalLiquidity,n=e.account,r=e.userDataReady,a=t&&t.gt(0)?"$".concat(t.toNumber().toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):"$0.00";return n&&r||!n&&""!==a?Object(q.jsx)(mn,{liquidity:a,children:a}):Object(q.jsx)(mn,{liquidity:a,children:Object(q.jsx)(u.nb,{width:60})})},vn=Object(x.f)(pe||(pe=Object(i.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 500px;\n  }\n"]))),yn=Object(x.f)(xe||(xe=Object(i.a)(["\n  from {\n    max-height: 500px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),wn=x.e.div(Oe||(Oe=Object(i.a)(["\n  animation: ",";\n  overflow: hidden;\n  background: ",";\n  display: flex;\n  width: 100%;\n  flex-direction: column-reverse;\n  padding: 24px;\n\n  "," {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n"])),(function(e){return e.expanded?Object(x.d)(he||(he=Object(i.a)(["\n          "," 300ms linear forwards\n        "])),vn):Object(x.d)(fe||(fe=Object(i.a)(["\n          "," 300ms linear forwards\n        "])),yn)}),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.mediaQueries.lg})),kn=Object(x.e)(u.T)(me||(me=Object(i.a)(["\n  font-weight: 400;\n"]))),Sn=x.e.div(ge||(ge=Object(i.a)(["\n  color: ",";\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n\n  "," {\n    justify-content: flex-start;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.mediaQueries.sm})),Cn=x.e.div(ve||(ve=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 25px;\n\n  "," {\n    margin-top: 16px;\n  }\n\n  > div {\n    height: 24px;\n    padding: 0 6px;\n    font-size: 14px;\n    margin-right: 4px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Dn=x.e.div(ye||(ye=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Tn=x.e.div(we||(we=Object(i.a)(["\n  min-width: 200px;\n"]))),Fn=x.e.div(ke||(ke=Object(i.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),An=x.e.div(Se||(Se=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 4px 0px;\n"]))),Ln=function(e){var t=e.details,n=e.apr,r=e.tvl,c=e.multiplier,i=e.userDataReady,s=e.expanded,o=e.account,l=t,d=Object(g.b)().t,b="0.00%"!==l.multiplier,j=l.quoteToken,p=l.token,x=l.dual,O=l.lpSymbol&&l.lpSymbol.toUpperCase().replace("PANCAKE",""),h=Ke({quoteTokenAddress:j.address,tokenAddress:p.address}),f=Object(_e.a)(l.lpAddresses),m=Object(bt.e)(f),v=Object(R.e)(f,"address");"/info/pool/".concat(f);return Object(q.jsxs)(wn,{expanded:s,children:[Object(q.jsxs)(Tn,{children:[b&&Object(q.jsx)(Sn,{children:Object(q.jsx)(kn,{href:"/add/".concat(h),children:d("Get %symbol%",{symbol:O})})}),Object(q.jsx)(kn,{href:v,children:d("View Contract")}),Object(q.jsxs)(Cn,{children:[l.isCommunity?Object(q.jsx)(tt.a,{}):Object(q.jsx)(tt.c,{}),x?Object(q.jsx)(tt.d,{}):null,l.depositFee||l.withdrawalFee?Object(q.jsx)(tt.e,{}):null]})]}),Object(q.jsxs)(Fn,{children:[Object(q.jsxs)(An,{children:[Object(q.jsx)(u.rb,{children:d("APR")}),Object(q.jsx)(Zt,Object(a.a)(Object(a.a)({},n),{},{account:o,userDataReady:i}))]}),Object(q.jsxs)(An,{children:[Object(q.jsx)(u.rb,{children:d("TVL")}),Object(q.jsx)(gn,Object(a.a)(Object(a.a)({},r),{},{account:o,userDataReady:i}))]}),Object(q.jsxs)(An,{children:[Object(q.jsx)(u.rb,{children:d("Reward Share")}),Object(q.jsx)(jn,Object(a.a)({},c))]})]}),Object(q.jsxs)(Dn,{children:[Object(q.jsx)(On,Object(a.a)(Object(a.a)({},l),{},{userDataReady:i,lpContract:m})),Object(q.jsx)(fn,Object(a.a)(Object(a.a)({},l),{},{userDataReady:i,lpLabel:O,displayApr:n.value,depositFee:l.depositFee,withdrawalFee:l.withdrawalFee}))]})]})},Rn=x.e.div(Ce||(Ce=Object(i.a)(["\n  font-size: 12px;\n  color: ",";\n  text-align: left;\n"])),(function(e){return e.theme.colors.textSubtle})),qn=x.e.div(De||(De=Object(i.a)(["\n  min-height: 24px;\n  display: flex;\n  align-items: center;\n"]))),zn=function(e){var t=e.label,n=void 0===t?"":t,r=e.children;return Object(q.jsxs)("div",{children:[n&&Object(q.jsx)(Rn,{children:n}),Object(q.jsx)(qn,{children:r})]})},Pn=[{id:1,name:"farm",sortable:!0,label:""},{id:2,name:"earned",sortable:!0,label:"Earned"},{id:3,name:"apr",sortable:!0,label:"APR"},{id:5,name:"details",sortable:!0,label:""}],Nn=[{id:1,name:"farm",sortable:!0,label:""},{id:2,name:"earned",sortable:!0,label:"SPG Earned"},{id:3,name:"apr",sortable:!0,label:"APR"},{id:4,name:"tvl",sortable:!0,label:"TVL"},{id:5,name:"multiplier",sortable:!0,label:"Reward Share"},{id:6,name:"details",sortable:!0,label:""}],En={apr:Zt,farm:nn,earned:an,tvl:gn,details:on,multiplier:jn},Bn=x.e.div(Te||(Te=Object(i.a)(["\n  padding: 24px 0px;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding-right: 8px;\n\n  "," {\n    padding-right: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xl})),Un=x.e.tr(Fe||(Fe=Object(i.a)(["\n  cursor: pointer;\n  border-bottom: 2px solid ",";\n"])),(function(e){return e.theme.colors.cardBorder})),Mn=x.e.td(Ae||(Ae=Object(i.a)(["\n  padding: 16px 0 24px 16px;\n"]))),Qn=x.e.td(Le||(Le=Object(i.a)(["\n  padding-top: 16px;\n  padding-bottom: 24px;\n"]))),In=x.e.td(Re||(Re=Object(i.a)(["\n  padding-top: 24px;\n"]))),Jn=function(e){var t=e.details,n=e.userDataReady,r=!!Object(f.a)(t.pid).stakedBalance.toNumber(),i=Object(s.useState)(r),l=Object(c.a)(i,2),d=l[0],b=l[1],j=Object($t.a)(d,300),p=Object(g.b)().t,x=function(){b(!d)};Object(s.useEffect)((function(){b(r)}),[r]);var O=Object(u.Ib)(),h=O.isDesktop,m=O.isMobile,v=!h,y=v?Pn:Nn,w=y.map((function(e){return e.name}));return Object(q.jsxs)(q.Fragment,{children:[m?Object(q.jsxs)(Un,{onClick:x,children:[Object(q.jsxs)("td",{children:[Object(q.jsx)("tr",{children:Object(q.jsx)(In,{children:Object(q.jsx)(zn,{children:Object(q.jsx)(nn,Object(a.a)({},e.farm))})})}),Object(q.jsxs)("tr",{children:[Object(q.jsx)(Mn,{children:Object(q.jsx)(zn,{label:p("SPG Earned"),children:Object(q.jsx)(an,Object(a.a)(Object(a.a)({},e.earned),{},{userDataReady:n}))})}),Object(q.jsx)(Qn,{children:Object(q.jsx)(zn,{label:p("APR"),children:Object(q.jsx)(Zt,Object(a.a)(Object(a.a)({},e.apr),{},{account:e.account,hideButton:!0,userDataReady:n}))})})]})]}),Object(q.jsx)("td",{children:Object(q.jsx)(Bn,{children:Object(q.jsx)(zn,{children:Object(q.jsx)(on,{actionPanelToggled:d})})})})]}):Object(q.jsx)(Un,{onClick:x,children:Object.keys(e).map((function(t){var r=w.indexOf(t);if(-1===r)return null;switch(t){case"details":return Object(q.jsx)("td",{children:Object(q.jsx)(Bn,{children:Object(q.jsx)(zn,{children:Object(q.jsx)(on,{actionPanelToggled:d})})})},t);case"apr":return Object(q.jsx)("td",{children:Object(q.jsx)(Bn,{children:Object(q.jsx)(zn,{label:p("APR"),children:Object(q.jsx)(Zt,Object(a.a)(Object(a.a)({},e.apr),{},{account:e.account,hideButton:v,userDataReady:n}))})})},t);case"tvl":return Object(q.jsx)("td",{children:Object(q.jsx)(Bn,{children:Object(q.jsx)(zn,{label:p("TVL"),children:Object(q.jsx)(gn,Object(a.a)(Object(a.a)({},e.tvl),{},{account:e.account,userDataReady:n}))})})},t);default:return Object(q.jsx)("td",{children:Object(q.jsx)(Bn,{children:Object(q.jsx)(zn,{label:p(y[r].label),children:o.a.createElement(En[t],Object(a.a)(Object(a.a)({},e[t]),{},{userDataReady:n}))})})},t)}}))}),j&&Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:6,children:Object(q.jsx)(Ln,Object(a.a)(Object(a.a)({},e),{},{expanded:d}))})})]})},Vn=x.e.div(qe||(qe=Object(i.a)(["\n  filter: ",";\n  width: 100%;\n  background: ",";\n  border-radius: 16px;\n  margin: 16px 0px;\n"])),(function(e){return e.theme.card.dropShadow}),(function(e){return e.theme.card.background})),Wn=x.e.div(ze||(ze=Object(i.a)(["\n  overflow: visible;\n  scroll-margin-top: 64px;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Xn=x.e.table(Pe||(Pe=Object(i.a)(["\n  border-collapse: collapse;\n  font-size: 14px;\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n"]))),Gn=x.e.tbody(Ne||(Ne=Object(i.a)(["\n  & tr {\n    td {\n      font-size: 16px;\n      vertical-align: middle;\n    }\n  }\n"]))),Hn=x.e.div(Ee||(Ee=Object(i.a)(["\n  position: relative;\n"]))),_n=x.e.div(Be||(Be=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),$n=function(e){var t=Object(s.useRef)(null),n=Object(g.b)().t,r=e.data,c=e.columns,i=e.userDataReady,o=Object(u.Kb)(c,r,{sortable:!0,sortColumn:"farm"}).rows;return Object(q.jsx)(Vn,{id:"farms-table",children:Object(q.jsxs)(Hn,{children:[Object(q.jsx)(Wn,{ref:t,children:Object(q.jsx)(Xn,{children:Object(q.jsx)(Gn,{children:o.map((function(t){return Object(s.createElement)(Jn,Object(a.a)(Object(a.a)({},t.original),{},{account:e.account,userDataReady:i,key:"table-row-".concat(t.id)}))}))})})}),Object(q.jsx)(_n,{children:Object(q.jsxs)(u.l,{variant:"text",onClick:function(){t.current.scrollIntoView({behavior:"smooth"})},children:[n("To Top"),Object(q.jsx)(u.z,{color:"primary"})]})})]})})},Kn=n(86),Yn=function(e){var t,n=e.hasStakeInFinishedFarms,r=Object(l.h)().url,a=Object(l.g)(),c=Object(g.b)().t;switch(a.pathname){case"/farms":t=0;break;case"/farms/history":t=1;break;case"/farms/archived":t=2;break;default:t=0}return Object(q.jsx)(Zn,{children:Object(q.jsxs)(u.m,{activeIndex:t,scale:"sm",variant:"subtle",children:[Object(q.jsx)(u.n,{as:Kn.a,to:"".concat(r),children:c("Live")}),Object(q.jsx)(u.jb,{show:n,children:Object(q.jsx)(u.n,{id:"finished-farms-button",as:Kn.a,to:"".concat(r,"/history"),children:c("Finished")})})]})})},Zn=x.e.div(Ue||(Ue=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),er=x.e.div(Me||(Me=Object(i.a)(["\n  margin-left: -8px;\n\n  "," {\n    margin-left: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),tr=function(e){var t=e.viewMode,n=e.onToggle,r=function(e){t!==e&&n(e)};return Object(q.jsxs)(er,{children:[Object(q.jsx)(u.O,{variant:"text",scale:"sm",id:"clickFarmCardView",onClick:function(){return r(D.b.CARD)},children:Object(q.jsx)(u.t,{color:t===D.b.CARD?"primary":"textDisabled"})}),Object(q.jsx)(u.O,{variant:"text",scale:"sm",id:"clickFarmTableView",onClick:function(){return r(D.b.TABLE)},children:Object(q.jsx)(u.U,{color:t===D.b.TABLE?"primary":"textDisabled"})})]})},nr=x.e.div(Qe||(Qe=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),rr=x.e.div(Ie||(Ie=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),u.rb),ar=x.e.div(Je||(Je=Object(i.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),u.rb),cr=x.e.div(Ve||(Ve=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ir=x.e.div(We||(We=Object(i.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),sr=(Object(x.e)(u.P)(Xe||(Xe=Object(i.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 58px;\n"]))),function(e){return e?"".concat(e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}),"%"):"0.00%"}),or=function(){var e=Object(l.h)().path,t=Object(l.g)().pathname,n=Object(g.b)().t,r=Object(f.b)(),i=r.data,o=r.userDataLoaded,d=Object(f.g)(),x=Object(s.useState)(""),R=Object(c.a)(x,2),z=R[0],P=R[1],N=Object(C.n)(),E=Object(c.a)(N,2),B=E[0],U=E[1],M=Object(j.c)().account,Q=Object(s.useState)("hot"),I=Object(c.a)(Q,2),J=I[0],V=I[1],W=Object(m.a)(),X=W.observerRef,G=W.isIntersecting,H=Object(s.useRef)(0),_=t.includes("archived"),$=t.includes("history"),K=!$&&!_;Object(f.f)(_);var Y=!M||!!M&&o,Z=Object(C.m)(K),ee=Object(c.a)(Z,2),te=ee[0],ne=ee[1],re=i.filter((function(e){return"0.00%"!==e.multiplier&&!Object(k.a)(e.pid)})),ae=i.filter((function(e){return"0.00%"===e.multiplier&&!Object(k.a)(e.pid)})),ce=i.filter((function(e){return Object(k.a)(e.pid)})),ie=re.filter((function(e){return e.userData&&new b.a(e.userData.stakedBalance).isGreaterThan(0)})),se=ae.filter((function(e){return e.userData&&new b.a(e.userData.stakedBalance).isGreaterThan(0)})),oe=ce.filter((function(e){return e.userData&&new b.a(e.userData.stakedBalance).isGreaterThan(0)})),le=Object(s.useCallback)((function(e){var t=e.map((function(e){if(!e.lpTotalInQuoteToken||!e.quoteTokenPriceBusd)return e;var t=new b.a(e.lpTotalInQuoteToken).times(e.quoteTokenPriceBusd),n=Object(y.a)(new b.a(e.poolWeight),d,t,e.lpAddresses[p.a.MAINNET]);return Object(a.a)(Object(a.a)({},e),{},{apr:n.cakeRewardsApr,liquidity:t})}));if(z){var n=Object(S.a)(z.toLowerCase());t=t.filter((function(e){return Object(S.a)(e.lpSymbol.toLowerCase()).includes(n)}))}return t}),[z,d]),de=Object(s.useState)(12),be=Object(c.a)(de,2),je=be[0],ue=be[1],pe=Object(s.useMemo)((function(){var e=[];return K&&(e=le(te?ie:re)),$&&(e=le(te?se:ae)),_&&(e=le(te?oe:ce)),function(e){switch(J){case"apr":return Object(w.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return Object(w.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(w.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"tvl":return Object(w.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,je)}),[J,re,le,ae,ce,K,$,_,oe,se,te,ie,je]);H.current=pe.length,Object(s.useEffect)((function(){G&&ue((function(e){return e<=H.current?e+12:e}))}),[G]);var xe=pe.map((function(e){var t=e.token,n=e.quoteToken,r=e.depositFee,a=e.withdrawalFee,c=t.address,i=n.address,s=e.lpSymbol&&e.lpSymbol.split(" ")[0].toUpperCase().replace("PANCAKE","");return{apr:{value:sr(e.apr),pid:e.pid,multiplier:e.multiplier,lpLabel:s,lpSymbol:e.lpSymbol,tokenAddress:c,quoteTokenAddress:i,cakePrice:d,originalValue:e.apr},farm:{label:s,pid:e.pid,token:e.token,quoteToken:e.quoteToken,depositFee:r,withdrawalFee:a},earned:{earnings:Object(v.e)(new b.a(e.userData.earnings),6),pid:e.pid},tvl:{totalLiquidity:e.liquidity,pid:e.pid},multiplier:{multiplier:e.multiplier},details:e}}));return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(T.a,{background:"#00de730d",children:[Object(q.jsx)(u.L,{as:"h1",scale:"xxl",color:"primary",mb:"24px",children:n("Farms")}),Object(q.jsx)(u.L,{scale:"lg",color:"text",children:n("Stake LP tokens to earn SPG")})]}),Object(q.jsxs)(h.b,{children:[Object(q.jsxs)(nr,{children:[Object(q.jsxs)(ir,{children:[Object(q.jsx)(tr,{viewMode:B,onToggle:function(e){return U(e)}}),Object(q.jsxs)(rr,{children:[Object(q.jsx)(u.tb,{id:"staked-only-farms",checked:te,onChange:function(){return ne(!te)},scale:"sm"}),Object(q.jsxs)(u.rb,{children:[" ",n("Staked only")]})]}),Object(q.jsx)(Yn,{hasStakeInFinishedFarms:se.length>0})]}),Object(q.jsxs)(cr,{children:[Object(q.jsxs)(ar,{children:[Object(q.jsx)(u.rb,{textTransform:"uppercase",children:n("Sort by")}),Object(q.jsx)(A.a,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("TVL"),value:"tvl"},{label:n("Reward Share"),value:"multiplier"},{label:n("Earned"),value:"earned"}],onOptionChange:function(e){V(e.value)}})]}),Object(q.jsxs)(ar,{style:{marginLeft:16},children:[Object(q.jsx)(u.rb,{textTransform:"uppercase",children:n("Search")}),Object(q.jsx)(F.a,{onChange:function(e){P(e.target.value)},placeholder:"Search Farms"})]})]})]}),function(){if(B===D.b.TABLE&&xe.length){var t=Nn.map((function(e){return{id:e.id,name:e.name,label:e.label,sort:function(t,n){switch(e.name){case"farm":return n.id-t.id;case"apr":return t.original.apr.value&&n.original.apr.value?Number(t.original.apr.value)-Number(n.original.apr.value):0;case"tvl":return t.original.tvl.totalLiquidity.toNumber()-n.original.tvl.totalLiquidity.toNumber();case"earned":return t.original.earned.earnings-n.original.earned.earnings;default:return 1}},sortable:e.sortable}}));return Object(q.jsx)($n,{data:xe,columns:t,account:M,userDataReady:Y})}return Object(q.jsxs)(O.a,{children:[Object(q.jsx)(l.b,{exact:!0,path:"".concat(e),children:pe.map((function(e){return Object(q.jsx)(_t,{farm:e,displayApr:sr(e.apr),cakePrice:d,account:M,removed:!1,userDataReady:Y},e.pid)}))}),Object(q.jsx)(l.b,{exact:!0,path:"".concat(e,"/history"),children:pe.map((function(e){return Object(q.jsx)(_t,{farm:e,displayApr:sr(e.apr),cakePrice:d,account:M,removed:!0,userDataReady:Y},e.pid)}))}),Object(q.jsx)(l.b,{exact:!0,path:"".concat(e,"/archived"),children:pe.map((function(e){return Object(q.jsx)(_t,{farm:e,displayApr:sr(e.apr),cakePrice:d,account:M,removed:!0,userDataReady:Y},e.pid)}))})]})}(),M&&!o&&te&&Object(q.jsx)(u.J,{justifyContent:"center",children:Object(q.jsx)(L.a,{})}),Object(q.jsx)("div",{ref:X})]})]})}}}]);